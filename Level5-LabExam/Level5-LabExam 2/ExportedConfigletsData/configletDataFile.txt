{"data":{"configlet":[{"key":"configlet_91ae8615-a1f9-412c-869c-68b0f14c7005","name":"DC1-Borderleaf1-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.21\/32\n!\ninterface Loopback1\n   ip address 10.1.1.21\/32\n!\nrouter ospf 100\n  router-id 10.1.0.21","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244169879,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_6f2e7e3b-b83f-4717-bac7-0c064b41a147","name":"DC1-Borderleaf2-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.22\/32\n!\ninterface Loopback1\n   ip address 10.1.1.21\/32\n!\nrouter ospf 100\n  router-id 10.1.0.22","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244206796,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_c9a1fd81-973c-4daa-aed1-755e4806391b","name":"DC1-Leaf1-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.11\/32\n!\ninterface Loopback1\n   ip address 10.1.1.11\/32\n!\nrouter ospf 100\n  router-id 10.1.0.11","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634243989683,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_0cfda537-406b-44e1-8bfa-9840b5ec073b","name":"DC1-Leaf2-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.12\/32\n!\ninterface Loopback1\n   ip address 10.1.1.11\/32\n!\nrouter ospf 100\n  router-id 10.1.0.12","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244046205,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_6c0eb623-8565-423d-9c5a-bc452f572688","name":"DC1-Leaf3-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.13\/32\n!\ninterface Loopback1\n   ip address 10.1.1.13\/32\n!\nrouter ospf 100\n  router-id 10.1.0.13","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244094794,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_9e735b07-5ee7-4b9d-aaa3-b325fb33729d","name":"DC1-Leaf4-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.14\/32\n!\ninterface Loopback1\n   ip address 10.1.1.13\/32\n!\nrouter ospf 100\n  router-id 10.1.0.14","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244130064,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_0312de6c-6c3b-4d53-8e7b-c046b2200452","name":"DC1-Leafs-Overlay-builder_192.168.0.21_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65001\n  router-id 10.1.0.11\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65001\n  neighbor 10.1.0.12 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.11:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.11:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836186,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_45b2caf4-16a2-46ee-bcaf-491341784da9","name":"DC1-Leafs-Overlay-builder_192.168.0.22_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65001\n  router-id 10.1.0.12\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65001\n  neighbor 10.1.0.11 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.11:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.11:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836186,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_78acf3ae-e3f3-41e0-ab27-4b9035e4d8ce","name":"DC1-Leafs-Overlay-builder_192.168.0.23_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65002\n  router-id 10.1.0.13\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65002\n  neighbor 10.1.0.14 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.13:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.13:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836141,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_ac93daf7-b4ee-430b-a368-8587995d6516","name":"DC1-Leafs-Overlay-builder_192.168.0.24_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65002\n  router-id 10.1.0.14\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65002\n  neighbor 10.1.0.13 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.13:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.13:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836227,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_fcc0ecc1-da57-4c94-b594-55e98f0e7c6f","name":"DC1-Leafs-Overlay-builder_192.168.0.25_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65100\n  router-id 10.1.0.21\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65100\n  neighbor 10.1.0.22 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.21:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.21:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836159,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_4f4d5dce-0acb-4121-98a9-161d91cabc04","name":"DC1-Leafs-Overlay-builder_192.168.0.25_2","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65100\n  router-id 10.1.0.21\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65100\n  neighbor 10.1.0.22 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.21:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.21:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634246097315,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_255e3877-8b9e-4ae3-808f-062cf52c9ba2","name":"DC1-Leafs-Overlay-builder_192.168.0.26_1","reconciled":false,"config":"service routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\nrouter bgp 65100\n  router-id 10.1.0.22\n\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\n  neighbor 10.1.0.101 peer group SPINE_Overlay\n  neighbor 10.1.0.102 peer group SPINE_Overlay\n  neighbor 10.1.0.103 peer group SPINE_Overlay\n\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\n  neighbor LEAF_Peer remote-as 65100\n  neighbor 10.1.0.21 peer group LEAF_Peer\n\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\n  vlan-aware-bundle leaf-vlans\n    rd 10.1.1.21:100\n    route-target both 100:100\n    redistribute learned\n    vlan 100\n  vrf leaf-VRF\n    rd 10.1.1.21:200\n\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634245836127,"isDefault":"no","isAutoBuilder":"","type":"Generated","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_fc4da89d-5524-47f4-ac19-64c2417f184c","name":"DC1-Leafs-Underlay","reconciled":false,"config":"ip routing\n\nvlan 100\n\nrouter ospf 100\n\ninterface Loopback0\n  ip ospf area 0.0.0.0\n\ninterface Loopback1\n  ip ospf area 0.0.0.0\ninterface Ethernet3\n  description SPINE1\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet4\n  description SPINE2\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet5\n  description SPINE3\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Vxlan1\n   vxlan source-interface Loopback1\n   vxlan udp-port 4789\n   vxlan vlan 100 vni 100\n   vxlan vrf leaf-vrf vni 200","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634226938144,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_38b10e2a-bdb9-4838-b40a-7eba28ceb8de","name":"DC1-MLAG-left","reconciled":false,"config":"no spanning-tree vlan-id 4094\n!\nvlan 4094\n   name MLAG\n   trunk group mlagpeer\n!\ninterface Ethernet1\n   channel-group 10 mode active\n!\ninterface Ethernet2\n   channel-group 10 mode active\n!\ninterface Port-Channel10\n   switchport mode trunk\n   switchport trunk group mlagpeer\n!\ninterface Vlan4094\n   ip address 192.168.255.1\/30\n   no autostate\n!\nmlag configuration\n   domain-id MLAG-DOMAIN\n   local-interface Vlan4094\n   peer-address 192.168.255.2\n   peer-link Port-Channel10","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244835154,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_aca1efc0-a8ad-46e5-b21b-6daba89aebc0","name":"DC1-MLAG-right","reconciled":false,"config":"no spanning-tree vlan-id 4094\n!\nvlan 4094\n   name MLAG\n   trunk group mlagpeer\n!\ninterface Ethernet1\n   channel-group 10 mode active\n!\ninterface Ethernet2\n   channel-group 10 mode active\n!\ninterface Port-Channel10\n   switchport mode trunk\n   switchport trunk group mlagpeer\n!\ninterface Vlan4094\n   ip address 192.168.255.2\/30\n   no autostate\n!\nmlag configuration\n   domain-id MLAG-DOMAIN\n   local-interface Vlan4094\n   peer-address 192.168.255.1\n   peer-link Port-Channel10","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634244858410,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_13ea7896-3021-4d60-b2ef-4768807fc4d0","name":"DC1-Spine-Overlay","reconciled":false,"config":"service routing protocols model multi-agent\n\nip prefix-list LOOPBACK\n    seq 10 permit 10.1.0.0\/24 eq 32\n    seq 20 permit 10.1.1.0\/24 eq 32\n    seq 30 permit 10.2.0.0\/24 eq 32\n    seq 40 permit 10.2.1.0\/24 eq 32\n\n\nroute-map LOOPBACK permit 10\n   match ip address prefix-list LOOPBACK\n\npeer-filter LEAF-AS-RANGE\n  10 match as-range 65000-65535 result accept\n\nrouter bgp 65000\n   no bgp default ipv4-unicast\n   maximum-paths 3\n   distance bgp 20 200 200\n\n   bgp listen range 10.0.0.0\/8 peer-group LEAF_Overlay peer-filter LEAF-AS-RANGE\n   neighbor LEAF_Overlay peer group\n   neighbor LEAF_Overlay send-community\n   neighbor LEAF_Overlay maximum-routes 0\n   neighbor LEAF_Overlay ebgp-multihop\n\n   redistribute connected route-map LOOPBACK\n\n   address-family ipv4\n     neighbor LEAF_Overlay activate\n     redistribute connected route-map LOOPBACK\n\n   address-family evpn\n     neighbor LEAF_Overlay activate","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634230169605,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_f40bcaec-85f8-4b54-88e1-d9a123e7d109","name":"DC1-Spine-Underlay","reconciled":false,"config":"ip routing\n\nrouter ospf 100\n\ninterface Loopback0\n  ip ospf area 0.0.0.0\ninterface Ethernet2\n  description leaf1\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet3\n  description leaf2\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet4\n  description leaf3\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet5\n  description leaf4\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet6\n  description borderleaf1\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0\n\ninterface Ethernet7\n  description borderleaf2\n  no switchport\n  ip address unnumbered Loopback0\n  ip ospf network point-to-point\n  ip ospf area 0.0.0.0","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634226858802,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_5d5cdfd3-272f-4266-af3d-e135abf1c62c","name":"DC1-Spine1-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.101\/32\n!\nrouter ospf 100\n  router-id 10.1.0.101","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634243807526,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_54d0071d-7e44-400f-9e46-5380f1af46dd","name":"DC1-Spine2-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.102\/32\n!\nrouter ospf 100\n  router-id 10.1.0.102","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634246467696,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_38316edf-01bb-43af-8152-beb47271d8ed","name":"DC1-Spine3-LP","reconciled":false,"config":"interface Loopback0\n   ip address 10.1.0.103\/32\n!\nrouter ospf 100\n  router-id 10.1.0.103","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634246494418,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_e0135a98-654c-44a7-a8d7-ea6273854e49","name":"ATD-INFRA","reconciled":false,"config":"daemon TerminAttr\n  exec \/usr\/bin\/TerminAttr -ingestgrpcurl=192.168.0.5:9910 -taillogs -ingestauth=key,atd-lab -smashexcludes=ale,flexCounter,hardware,kni,pulse,strata -ingestexclude=\/Sysdb\/cell\/1\/agent,\/Sysdb\/cell\/2\/agent\n  no shutdown\n!\nalias mlag-reload bash \/mnt\/flash\/shut_intfs && sudo shutdown now -r\nalias conint sh interface | i connected\nalias senz show interface counter error | nz\nalias shmc show int | awk '\/^[A-Z]\/ { intf = $1 } \/, address is\/ { print intf, $6 }'\nalias snz show interface counter | nz\nalias spd show port-channel %1 detail all\nalias sqnz show interface counter queue | nz\nalias srnz show interface counter rate | nz\nalias intdesc\n   !! Usage: intdesc interface-name description\n   10 config\n   20 int %1\n   30 desc %2\n   40 exit\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nntp server 192.168.0.1 iburst source Management0\n!\nradius-server host 192.168.0.1 key 7 0207165218120E\n!\naaa group server radius atds\n   server 192.168.0.1\n!\naaa authentication login default group atds local\naaa authorization exec default group atds local\naaa authorization commands all default local\n!\nusername Script secret sha512 $6$PNfpb9anSBQ5\/aia$phaa3ar5pwkntenD9WHc6Ed5b96lbW0dc0bjtwPnFLaDiCK8D5Cjl6ewP\/xdNbl4PtS6Paq.3SssN8pj05NQm.\nusername admin privilege 15 role network-admin secret 5 $1$5O85YVVn$HrXcfOivJEnISTMb6xrJc.\nusername arista privilege 15 role network-admin secret 5 $1$4VjIjfd1$XkUVulbNDESHFzcxDU.Tk1\n!\nusername arista ssh-key ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDyxPeRbQY7vW3JngQR\/drWesTK4cdA12B6QLCFDrh9cn7OIMKWOgIk0EV2kXhr0XsvFJEs+2uW1rIJgq\/x0HNMysCwTZjo5Mtx2PMsq5z7ztcXfjdGd72SxgY+wkMGXXy4Px7hgZ591yDouM3ZYiEt\/Ys8Qj2u28wziw8ywLB+eEPpU8ZZzw3oWXJx8JShweDhD2p9BRJpRsaKzZbsK4GGb5wmHS7bX0TrHoX4VAy5koVijbkZAOXKEL1RTeP9YpQSMEz9TJddwPCBz39wodHCP6uwKQewv861xDQlU2sTwMEz7gegz1G2iwpj1c7MedcO7JX6BM6LZonjlyMft1kv arista@l5-exam-12-10-21-21-01f1405e\n!\nip radius source-interface Management0\n!\nmanagement api http-commands\n   no shutdown\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501270008,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_a07d897c-21e2-468f-b718-e270d4a8e693","name":"CVX-BASE","reconciled":false,"config":"hostname cvx\n!\ninterface Management0\n   ip address 192.168.0.4\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501284485,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_140ae340-6622-41f4-9300-8339c1b37e1f","name":"DCI-BASE","reconciled":false,"config":"hostname DCI\n!\ninterface Management0\n   ip address 192.168.0.76\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501270992,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_6ca414fb-901b-4f5d-9418-4c1b152779fa","name":"OOB-CORE-BASE","reconciled":false,"config":"hostname OOB-CORE\n!\ninterface Management0\n   ip address 192.168.0.61\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501272069,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_34ee8305-b900-44fe-a3d6-a6cf28fd2538","name":"OOB-DC1-BASE","reconciled":false,"config":"hostname OOB-DC1\n!\ninterface Management0\n   ip address 192.168.0.62\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501272709,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_e88e7838-72e0-4234-b7ec-0d36bb809363","name":"OOB-DC2-BASE","reconciled":false,"config":"hostname OOB-DC2\n!\ninterface Management0\n   ip address 192.168.0.63\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501284843,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_0af3cca5-63a6-45b7-a6f1-cb79d293b76d","name":"SW1-DC3-BASE","reconciled":false,"config":"hostname SW1-DC3\n!\ninterface Management0\n   ip address 192.168.0.77\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501273120,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_e73724b0-bbb9-4d8a-9de9-bbfb32a8909a","name":"borderleaf1-DC1-BASE","reconciled":false,"config":"hostname borderleaf1-DC1\n!\ninterface Management0\n   ip address 192.168.0.25\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501273549,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_1b0dbc59-ae5f-47ac-a1d0-8c1d1bf35f04","name":"borderleaf1-DC2-BASE","reconciled":false,"config":"hostname borderleaf1-DC2\n!\ninterface Management0\n   ip address 192.168.0.35\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501274057,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_f650da0b-56cc-4546-a6b7-ce834a69cb7a","name":"borderleaf2-DC1-BASE","reconciled":false,"config":"hostname borderleaf2-DC1\n!\ninterface Management0\n   ip address 192.168.0.26\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501274503,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_00b640fa-251a-4524-8d40-629e2da559e9","name":"borderleaf2-DC2-BASE","reconciled":false,"config":"hostname borderleaf2-DC2\n!\ninterface Management0\n   ip address 192.168.0.36\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501274912,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_f6ef6633-4625-42e7-9ea5-b91e85f6c3ad","name":"core1-ISP1-BASE","reconciled":false,"config":"hostname core1-ISP1\n!\ninterface Management0\n   ip address 192.168.0.71\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501275328,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_e5f5e0a6-4a06-4da4-acaf-f900333256ba","name":"core1-ISP2-BASE","reconciled":false,"config":"hostname core1-ISP2\n!\ninterface Management0\n   ip address 192.168.0.73\/24\n!\ndns domain arista.lab\n!\n\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501275756,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_da585d63-ae2c-4065-8d4b-fa954969c373","name":"core2-ISP1-BASE","reconciled":false,"config":"hostname core2-ISP1\n!\ninterface Management0\n   ip address 192.168.0.72\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501276215,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_c33d2436-1937-46cf-9623-740f7ba715b0","name":"core2-ISP2-BASE","reconciled":false,"config":"hostname core2-ISP2\n!\ninterface Management0\n   ip address 192.168.0.74\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501276624,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_d99b73a7-a710-49b4-8866-12bd509d7fb5","name":"host1-DC1-BASE","reconciled":false,"config":"hostname host1-DC1\n!\nspanning-tree mode none\n!\ninterface Management0\n   ip address 192.168.0.51\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501277119,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_1f4510d0-35bb-43b6-b02d-9af375da5892","name":"host1-DC2-BASE","reconciled":false,"config":"hostname host1-DC2\n!\nspanning-tree mode none\n!\ninterface Management0\n   ip address 192.168.0.53\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501277534,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_2f7c5249-463e-450c-b57d-ace9a912e466","name":"host1-DC3-BASE","reconciled":false,"config":"hostname host1-DC3\n!\nspanning-tree mode none\n!\ninterface Management0\n   ip address 192.168.0.78\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501278093,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_da12f148-c30c-45ae-abda-4e11e7bb3501","name":"host2-DC1-BASE","reconciled":false,"config":"hostname host2-DC1\n!\nspanning-tree mode none\n!\ninterface Management0\n   ip address 192.168.0.52\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501278498,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_56041f0f-9826-4835-8315-cf6b2619ceba","name":"host2-DC2-BASE","reconciled":false,"config":"hostname host2-DC2\n!\nspanning-tree mode none\n!\ninterface Management0\n   ip address 192.168.0.54\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501278880,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_42b39749-5b43-4049-924a-02571a09b952","name":"internet-BASE","reconciled":false,"config":"hostname internet\n!\ninterface Management0\n   ip address 192.168.0.75\/24\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501279279,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_ed3c5381-0f11-4277-8b16-f97d1946a7ff","name":"leaf1-DC1-BASE","reconciled":false,"config":"hostname leaf1-DC1\n!\ninterface Management0\n   ip address 192.168.0.21\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501279669,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_e1b217ac-1e50-4aab-af6b-d4a646d77820","name":"leaf1-DC2-BASE","reconciled":false,"config":"hostname leaf1-DC2\n!\ninterface Management0\n   ip address 192.168.0.31\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501280163,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_8a4baeb9-8bab-4e42-8e81-b92b77ce2c77","name":"leaf2-DC1-BASE","reconciled":false,"config":"hostname leaf2-DC1\n!\ninterface Management0\n   ip address 192.168.0.22\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501280547,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_4e1b330c-65a3-4215-8c03-a8279433ae57","name":"leaf2-DC2-BASE","reconciled":false,"config":"hostname leaf2-DC2\n!\ninterface Management0\n   ip address 192.168.0.32\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501280936,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_c200cc0f-ff55-4e7c-8478-e59ba7540155","name":"leaf3-DC1-BASE","reconciled":false,"config":"hostname leaf3-DC1\n!\ninterface Management0\n   ip address 192.168.0.23\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501281335,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false},{"key":"configlet_aff7e234-dc5c-48e4-a3f6-8f262453f6dd","name":"leaf3-DC2-BASE","reconciled":false,"config":"hostname leaf3-DC2\n!\ninterface Management0\n   ip address 192.168.0.33\/24\n!\nservice routing protocols model multi-agent\n!\ndns domain arista.lab\n!\nip route 0.0.0.0\/0 192.168.0.1\n!\nip routing\n!\n","user":"arista","note":"","containerCount":0,"netElementCount":0,"dateTimeInLongFormat":1634501281763,"isDefault":"no","isAutoBuilder":"","type":"Static","editable":true,"sslConfig":false,"visible":true,"isDraft":false}],"configletBuilder":[{"isAssigned":true,"sslConfig":false,"editable":true,"name":"DC1-Leafs-Overlay-builder","formList":[],"type":"BUILDER_WITHOUT_DRAFT","main_script":{"data":"import yaml\nfrom cvplibrary import CVPGlobalVariables, GlobalVariableNames\n\nhostname = CVPGlobalVariables.getValue(GlobalVariableNames.CVP_SERIAL)\n\nconfig = \"\"\"\nspine1-DC1:\n  interfaces:\n    Loopback0: 10.1.0.101\nspine2-DC1:\n  interfaces:\n    Loopback0: 10.1.0.102\nspine3-DC1:\n  interfaces:\n    Loopback0: 10.1.0.103\nleaf1-DC1:\n  interfaces:\n    Loopback0: 10.1.0.11\n    Loopback1: 10.1.1.11\n  remote-peer: 10.1.0.12\n  AS: 65001\nleaf2-DC1:\n  interfaces:\n    Loopback0: 10.1.0.12\n    Loopback1: 10.1.1.11\n  remote-peer: 10.1.0.11\n  AS: 65001\nleaf3-DC1:\n  interfaces:\n    Loopback0: 10.1.0.13\n    Loopback1: 10.1.1.13\n  remote-peer: 10.1.0.14\n  AS: 65002\nleaf4-DC1:\n  interfaces:\n    Loopback0: 10.1.0.14\n    Loopback1: 10.1.1.13\n  remote-peer: 10.1.0.13\n  AS: 65002\nborderleaf1-DC1:\n  interfaces:\n    Loopback0: 10.1.0.21\n    Loopback1: 10.1.1.21\n  remote-peer: 10.1.0.22\n  AS: 65100\nborderleaf2-DC1:\n  interfaces:\n    Loopback0: 10.1.0.22\n    Loopback1: 10.1.1.21\n  remote-peer: 10.1.0.21\n  AS: 65100\n\"\"\"\n\ndevices = yaml.load(config)\n\nspine1lp = devices['spine1-DC1']['interfaces']['Loopback0']\nspine2lp = devices['spine2-DC1']['interfaces']['Loopback0']\nspine3lp = devices['spine3-DC1']['interfaces']['Loopback0']\n\nprint(\"\"\"\nservice routing protocols model multi-agent\nip prefix-list LOOPBACK\n  seq 10 permit 10.1.0.0\/24 eq 32\n  seq 20 permit 10.1.1.0\/24 eq 32\n  seq 30 permit 10.2.0.0\/24 eq 32\n  seq 40 permit 10.2.1.0\/24 eq 32\n!\nroute-map LOOPBACK permit 10\n  match ip address prefix-list LOOPBACK\n!\n\"\"\")\nprint(\"router bgp %s\") % devices[hostname]['AS']\nprint(\"  router-id %s\") % devices[hostname]['interfaces']['Loopback0']\nprint(\"\"\"\n  no bgp default ipv4-unicast\n  maximum-paths 3\n  distance bgp 20 200 200\n  neighbor SPINE_Overlay peer group\n  neighbor SPINE_Overlay remote-as 65000\n  neighbor SPINE_Overlay send-community\n  neighbor SPINE_Overlay maximum-routes 0\n  neighbor SPINE_Overlay ebgp-multihop\n\"\"\")\nprint(\"  neighbor %s peer group SPINE_Overlay\") % spine1lp\nprint(\"  neighbor %s peer group SPINE_Overlay\") % spine2lp\nprint(\"  neighbor %s peer group SPINE_Overlay\") % spine3lp\nprint(\"\"\"\n  neighbor LEAF_Peer peer group\n  neighbor LEAF_Peer next-hop-self\n  neighbor LEAF_Peer maximum-routes 12000\n\"\"\")\nprint(\"  neighbor LEAF_Peer remote-as %s\") % devices[hostname]['AS']\nprint(\"  neighbor %s peer group LEAF_Peer\") % devices[hostname]['remote-peer']\nprint(\"\"\"\n  redistribute connected route-map LOOPBACK\n    address-family ipv4\n      neighbor LEAF_Peer activate\n      redistribute connected route-map LOOPBACK\n    address-family evpn\n      bgp next-hop-unchanged\n      neighbor SPINE_Overlay activate\n\"\"\")\nprint(\"  vlan-aware-bundle leaf-vlans\")\nprint(\"    rd %s:100\") % devices[hostname]['interfaces']['Loopback1']\nprint(\"    route-target both 100:100\")\nprint(\"    redistribute learned\")\nprint(\"    vlan 100\")\nprint(\"  vrf leaf-VRF\")\nprint(\"    rd %s:200\") % devices[hostname]['interfaces']['Loopback1']\nprint(\"\"\"\n    route-target import evpn 200:200\n    route-target export evpn 200:200\n    redistribute connected\n    redistribute static\n\"\"\")\n\n\n\n\n\n\n\n\n\n\n\n","key":null}},{"isAssigned":false,"sslConfig":false,"editable":true,"name":"SYS_TelemetryBuilderV3","formList":[{"fieldId":"vrf","fieldLabel":"Management VRF","type":"Text box","value":"default","depends":"","validation":{"mandatory":false},"dataValidation":"","helpText":"VRF on which to stream telemetry data to CloudVision","configletBuilderId":"SYS_TelemetryBuilderV3_1608311601611","orderId":0,"key":"SYS_TelemetryBuilderV3_1608311601710","dataValidationErrorExist":false,"previewValue":""}],"type":"BUILDER_WITHOUT_DRAFT","main_script":{"data":"import os\r\nimport cvp\r\nfrom cvplibrary import Form, CVPGlobalVariables, GlobalVariableNames\r\n\r\ndef terminAttrCertEnabled():\r\n   ''' Returns True if TerminAttr cert is enabled.\r\n    Otherwise returns False.\r\n    '''\r\n   server = cvp.Cvp( '127.0.0.1' )\r\n   sid = CVPGlobalVariables.getValue( GlobalVariableNames.CVP_SESSION_ID )\r\n   server.sessionIs( sid )\r\n   return server.getTerminattrCertEnable()\r\n\r\ndef getIngestAuth( ingestKey ):\r\n   ''' Returns the ingest auth option string.\r\n   '''\r\n   ingestAuth = 'key,' + ingestKey\r\n   if terminAttrCertEnabled():\r\n      ingestAuth = 'token,\/tmp\/token'\r\n   return ingestAuth\r\n\r\n# Using the CVP device interface for receiving telemetry data\r\nip_list = [ os.environ.get('PRIMARY_DEVICE_INTF_IP', None),\r\n            os.environ.get('SECONDARY_DEVICE_INTF_IP', None),\r\n            os.environ.get('TERTIARY_DEVICE_INTF_IP', None) ]\r\ningest_grpc = ','.join( [ '%s:9910' % ip for ip in ip_list if ip ] )\r\n\r\n# Getting the Ingest Key\r\n# Note: Changing the ingest key requires restarting CVP for the builder to take it.\r\ningest_key = os.environ.get('AERIS_INGEST_KEY', '')\r\n\r\n# Smash tables to exclude\r\nsmash_exclude_list = ['ale',\r\n                      'flexCounter',\r\n                      'hardware',\r\n                      'kni',\r\n                      'pulse',\r\n                      'strata']\r\nsmash_exclude = ','.join(smash_exclude_list)\r\n\r\n# Paths to exclude from the ingest stream\r\ningest_exclude_list = ['\/Sysdb\/cell\/1\/agent',\r\n                       '\/Sysdb\/cell\/2\/agent']\r\ningest_exclude = ','.join(ingest_exclude_list)\r\n\r\n# Get Management VRF (allow blank form for default vrf)\r\ningest_vrf = Form.getFieldById( 'vrf' ).getValue()\r\nif not ingest_vrf:\r\n   ingest_vrf = 'default'\r\n\r\n# Print the config\r\nprint 'daemon TerminAttr'\r\nprint '  exec \/usr\/bin\/TerminAttr -ingestgrpcurl=%s -taillogs ' \\\r\n      '-ingestauth=%s -smashexcludes=%s -ingestexclude=%s' \\\r\n      % (ingest_grpc, getIngestAuth( ingest_key ), smash_exclude, ingest_exclude) \\\r\n      + ((' -ingestvrf=%s' % ingest_vrf) if (ingest_vrf != 'default') else '')\r\nprint '  no shutdown'\r\n","key":null}}]}}